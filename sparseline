#!/bin/env bash

XXX=$PS1

# get branch
function gitty()
{
    declare status

    # two layers deep -- Ben Carson
    for dir in {'.','..','../..'}/.git/HEAD
    do
        if [[ -r $dir ]]
        then
            branch=$(<"${dir}")
            branch="${branch//*\//}"
            status+="« ${branch} »"
        fi

    done

    export PS1="${status}${XXX}"
}
export PROMPT_COMMAND=gitty
